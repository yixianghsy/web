{"version":3,"sources":["webpack:///./src/views/Login.vue?6bfb","webpack:///./src/views/Login.vue?721d","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?f2ad","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","status","key","ref","attrs","loginForm","loginRules","model","value","callback","$$v","$set","expression","on","signIn","_v","toSignUp","regForm","regRules","signUp","toSignIn","directives","name","rawName","modifiers","staticRenderFns","component"],"mappings":"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","file":"js/chunk-40ef62b6.5d2c839a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=cba050d8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=cba050d8&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign_box\"},[(_vm.status==1)?_c('div',{staticClass:\"signIn\"},[_c('el-form',{key:\"login\",ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"label-width\":\"0px\"}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入账号\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"signBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.signIn}},[_vm._v(\"登录\")])],1)],1),_c('span',{staticClass:\"signText\",on:{\"click\":_vm.toSignUp}},[_vm._v(\"注册新账号\")])],1):_c('div',{staticClass:\"signUp\"},[_c('el-form',{key:\"register\",ref:\"regForm\",attrs:{\"model\":_vm.regForm,\"rules\":_vm.regRules,\"label-width\":\"0px\"}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入账号\"},model:{value:(_vm.regForm.username),callback:function ($$v) {_vm.$set(_vm.regForm, \"username\", $$v)},expression:\"regForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.regForm.password),callback:function ($$v) {_vm.$set(_vm.regForm, \"password\", $$v)},expression:\"regForm.password\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"nickname\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入昵称\"},model:{value:(_vm.regForm.nickname),callback:function ($$v) {_vm.$set(_vm.regForm, \"nickname\", $$v)},expression:\"regForm.nickname\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"signBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.signUp}},[_vm._v(\"注册\")])],1)],1),_c('span',{staticClass:\"signText\",on:{\"click\":_vm.toSignIn}},[_vm._v(\"返回登录\")])],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.loading),expression:\"loading\",modifiers:{\"fullscreen\":true,\"lock\":true}}]})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"sign_box\">\n        <div class=\"signIn\" v-if=\"status==1\">\n            <el-form :model=\"loginForm\" :rules=\"loginRules\" ref=\"loginForm\" label-width=\"0px\" key=\"login\">\n                <el-form-item prop=\"username\">\n                    <el-input v-model=\"loginForm.username\" placeholder=\"请输入账号\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"请输入密码\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button class=\"signBtn\" type=\"primary\" @click=\"signIn\">登录</el-button>\n                </el-form-item>\n            </el-form>\n            <span class=\"signText\" @click=\"toSignUp\">注册新账号</span>\n        </div>\n        <div class=\"signUp\" v-else>\n            <el-form :model=\"regForm\" :rules=\"regRules\" ref=\"regForm\" label-width=\"0px\" key=\"register\">\n                <el-form-item prop=\"username\">\n                    <el-input v-model=\"regForm.username\" placeholder=\"请输入账号\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <el-input type=\"password\" v-model=\"regForm.password\" placeholder=\"请输入密码\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"nickname\">\n                    <el-input v-model=\"regForm.nickname\" placeholder=\"请输入昵称\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button class=\"signBtn\" type=\"primary\" @click=\"signUp\">注册</el-button>\n                </el-form-item>\n            </el-form>\n            <span class=\"signText\" @click=\"toSignIn\">返回登录</span>\n        </div>\n        <div v-loading.fullscreen.lock=\"loading\"></div>\n    </div>\n</template>\n\n<script>\n    import Cookie from 'js-cookie'\n    export default {\n        data() {\n            return {\n                loading:false,\n                status:1,\n                loginForm:{\n                    username:'',\n                    password:''\n                },\n                loginRules:{\n                    username:[\n                        { required: true, message: '请输入账号', trigger: 'blur' },\n                    ],\n                    password:[\n                        { required: true, message: '请输入密码', trigger: 'blur' },\n                    ]\n                },\n                regForm:{\n                    username:'',\n                    password:'',\n                    nickname:''\n                },\n                regRules:{\n                    username:[\n                        { required: true, message: '请输入账号', trigger: 'blur' },\n                    ],\n                    password: [\n                        { required: true, message: '请输入密码', trigger: 'blur' },\n                    ],\n                    nickname: [\n                        { required: true, message: '请输入昵称', trigger: 'blur' },\n                    ],\n                }\n            }\n        },\n        methods:{\n            signIn() {\n                this.$refs['loginForm'].validate((valid) => {\n                    if (valid) {\n                        this.loading = true\n                        this.$axios.post('/api/user/login',this.loginForm)\n                            .then(res => {\n                                let result = res.data\n                                if(result.code === 0) {\n                                    Cookie.set('token',result.token)\n                                    this.$store.commit('setToken',result.token)\n                                    this.$store.commit('changIsSignIn',1)\n                                    setTimeout(() => {\n                                        this.loading = false\n                                        this.$router.push({name:'home'}) \n                                    }, 1500);\n                                }\n                            })\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n                });\n            },\n            signUp() {\n                this.$refs['regForm'].validate((valid) => {\n                    if (valid) {\n                        this.$axios.post('/api/user/register',this.regForm)\n                            .then(res => {\n                                console.log(res)\n                            })\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n                });\n            },\n            toSignUp(){\n                this.status = 2\n            },\n            toSignIn() {\n                this.status = 1\n            }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n.sign_box {\n    width: 300px;\n    margin: 200px auto 0;\n    text-align: center;\n    .signText {\n        color: #3B78DD;\n        cursor: pointer;\n        &:hover{\n            color: #1760D7;\n        }\n    }\n}\n.signBtn {\n    width: 100%;\n    font-size: 18px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=cba050d8&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=cba050d8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cba050d8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}