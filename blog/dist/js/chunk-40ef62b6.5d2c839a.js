(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40ef62b6"],{"1e65":function(e,r,s){},"372d":function(e,r,s){"use strict";var o=s("1e65"),n=s.n(o);n.a},a55b:function(e,r,s){"use strict";s.r(r);var o=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"sign_box"},[1==e.status?s("div",{staticClass:"signIn"},[s("el-form",{key:"login",ref:"loginForm",attrs:{model:e.loginForm,rules:e.loginRules,"label-width":"0px"}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",r)},expression:"loginForm.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),s("el-form-item",[s("el-button",{staticClass:"signBtn",attrs:{type:"primary"},on:{click:e.signIn}},[e._v("登录")])],1)],1),s("span",{staticClass:"signText",on:{click:e.toSignUp}},[e._v("注册新账号")])],1):s("div",{staticClass:"signUp"},[s("el-form",{key:"register",ref:"regForm",attrs:{model:e.regForm,rules:e.regRules,"label-width":"0px"}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.regForm.username,callback:function(r){e.$set(e.regForm,"username",r)},expression:"regForm.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.regForm.password,callback:function(r){e.$set(e.regForm,"password",r)},expression:"regForm.password"}})],1),s("el-form-item",{attrs:{prop:"nickname"}},[s("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.regForm.nickname,callback:function(r){e.$set(e.regForm,"nickname",r)},expression:"regForm.nickname"}})],1),s("el-form-item",[s("el-button",{staticClass:"signBtn",attrs:{type:"primary"},on:{click:e.signUp}},[e._v("注册")])],1)],1),s("span",{staticClass:"signText",on:{click:e.toSignIn}},[e._v("返回登录")])],1),s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}]})])},n=[],t=s("a78e"),i=s.n(t),a={data:function(){return{loading:!1,status:1,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},regForm:{username:"",password:"",nickname:""},regRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}]}}},methods:{signIn:function(){var e=this;this.$refs["loginForm"].validate((function(r){if(!r)return console.log("error submit!!"),!1;e.loading=!0,e.$axios.post("/api/user/login",e.loginForm).then((function(r){var s=r.data;0===s.code&&(i.a.set("token",s.token),e.$store.commit("setToken",s.token),e.$store.commit("changIsSignIn",1),setTimeout((function(){e.loading=!1,e.$router.push({name:"home"})}),1500))}))}))},signUp:function(){var e=this;this.$refs["regForm"].validate((function(r){if(!r)return console.log("error submit!!"),!1;e.$axios.post("/api/user/register",e.regForm).then((function(e){console.log(e)}))}))},toSignUp:function(){this.status=2},toSignIn:function(){this.status=1}}},l=a,m=(s("372d"),s("2877")),u=Object(m["a"])(l,o,n,!1,null,"cba050d8",null);r["default"]=u.exports}}]);
//# sourceMappingURL=chunk-40ef62b6.5d2c839a.js.map